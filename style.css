:root {
  --bg: #f7f9fb;
  --card: rgba(255,255,255,0.97);
  --text: #111827;
  --muted: #6b7280;
  --accent: #0ea5ff;
  --accent-2: #0066cc;

  --nav-bg: #ffffffcc;        /* translucent look */
  --nav-border: rgba(0,0,0,.06);
}

[data-theme="dark"] {
  --bg: #0b0f14;
  --card: rgba(16,18,22,0.9);
  --text: #e6eef8;
  --muted: #9aa6b2;
  --accent: #f59e0b;
  --accent-2: #d97706;

  --nav-bg: rgba(10,12,15,0.7);
  --nav-border: rgba(255,255,255,.06);
}

/* Reset / base */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; margin: 0; padding: 0; }
html { padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); }
body {
  font-family: "Inter", system-ui, "Segoe UI", Roboto, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.45;
  transition: background .35s, color .35s;
  scroll-behavior: smooth;
  overflow-x: hidden;
}

/* ================= NAVBAR ================= */
nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 56px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 20px;
  z-index: 40;
  background: var(--nav-bg);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--nav-border);
}
.nav-left .brand { color: var(--text); font-weight: 600; text-decoration: none; letter-spacing: 0.1px; }
.nav-right { display: flex; align-items: center; gap: 22px; }
.nav-right a { color: var(--text); font-weight: 600; text-decoration: none; padding: 4px 2px; position: relative; }
.nav-right a::after { content: ""; position: absolute; left: 0; bottom: -6px; width: 0; height: 2px; background: var(--accent); transition: width .25s ease; }
.nav-right a:hover::after, .nav-right a.active::after { width: 100%; }
.theme-toggle { background: none; border: 0; cursor: pointer; padding: 6px; font-size: 1.05rem; color: var(--text); }

/* Desktop layout */
.resume-layout { display: grid; grid-template-columns: 280px 1fr; max-width: 1200px; margin: 88px auto 40px; padding: 20px; gap: 25px; }

/* Sidebar */
.sidebar { background: var(--card); border-radius: 12px; padding: 20px; text-align: center; box-shadow: 0 10px 28px rgba(0,0,0,0.12); border: 1px solid rgba(0,0,0,0.06); }
[data-theme="dark"] .sidebar { box-shadow: 0 18px 36px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.05); }
.sidebar h1 { margin: 0; font-size: 1.6rem; }
.title { font-size: .95rem; color: var(--muted); margin: 6px 0 6px; }
.subtitle { font-size: .9rem; color: var(--muted); margin: 0 0 10px; }

/* Profile photo (desktop) */
.profile-photo { width: 170px; height: 170px; border-radius: 50%; object-fit: cover; border: 3px solid rgba(255,255,255,0.95); box-shadow: 0 0 18px rgba(14,165,255,0.5); margin: 15px 0; transition: transform .25s ease, box-shadow .25s ease; cursor: pointer; }
/* Hover: a bit larger than before */
@media (hover: hover) {
  .profile-photo:hover { transform: scale(1.12); box-shadow: 0 0 30px rgba(14,165,255,0.7); }
}

/* Buttons */
.download-btn, .link-chip { display: inline-block; margin: 10px auto; padding: 8px 16px; border-radius: 999px; text-decoration: none; font-weight: 700; cursor: pointer; }
.download-btn { background: #fff; color: #111; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
.download-btn:hover { box-shadow: 0 4px 14px rgba(0,0,0,0.3); }
.link-chip { background: #0a66c2; color: #fff; border: 1px solid rgba(10,102,194,0.25); }
.link-chip:hover { opacity: .9; }

/* Contact */
.contact-block { margin-top: 12px; }
.contact-toggle { appearance: none; border: 1px solid var(--accent); background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #fff; font-weight: 700; font-size: 0.9rem; padding: 6px 12px; border-radius: 999px; cursor: pointer; transition: transform .15s ease, box-shadow .2s ease, opacity .2s ease; }
.contact-toggle:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.18); }
.contact-toggle:active { transform: translateY(0); }
.contact-info.is-hidden { display: none; }
.contact-info.revealed { display: block; }
.contact-info a { color: var(--accent-2); text-decoration: none; }
.contact-info a:hover { text-decoration: underline; }

/* Main cards */
main section { background: var(--card); border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 10px 28px rgba(0,0,0,0.12); border: 1px solid rgba(0,0,0,0.06); opacity: 0; transform: translateY(20px); transition: all .6s cubic-bezier(.2,.9,.3,1); }
[data-theme="dark"] main section { box-shadow: 0 18px 36px rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.05); }
main section.show { opacity: 1; transform: none; }
h2 { color: var(--accent); margin-top: 0; text-align: center; }

/* Skills/Hobbies pills */
.pill-container { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
#skills .pill-container, #hobbies .pill-container { justify-content: center; }
.pill { background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: white; padding: 6px 12px; border-radius: 999px; font-size: .85rem; font-weight: 600; white-space: nowrap; transition: transform 0.2s ease, box-shadow 0.2s ease; }
@media (hover: hover) { .pill:hover { transform: scale(1.08); box-shadow: 0 0 12px rgba(14,165,255,0.5); } }

/* Floating Print FAB (hidden on mobile) */
#printBtn { position: fixed; bottom: 20px; right: 20px; width: 48px; height: 48px; padding: 0; border-radius: 16px; display: inline-flex; align-items: center; justify-content: center; font-size: 0; cursor: pointer; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #fff; border: none; z-index: 50; box-shadow: 0 10px 20px rgba(0,0,0,0.18), inset 0 0 0 1px rgba(255,255,255,0.18); }
#printBtn svg { color: #fff; }
@media (hover: hover) { #printBtn:hover { transform: translateY(-2px); } #printBtn:active { transform: translateY(0); } }
[data-theme="dark"] #printBtn { box-shadow: 0 10px 22px rgba(0,0,0,0.5); }

/* ============ MOBILE/TABLET ============ */
.mobile-only { display: none; }
@media (max-width: 900px) {
  .desktop-only { display: none; }
  .mobile-only { display: block; }

  /* Hide entire navbar + print button on mobile */
  nav { display: none !important; }
  #printBtn { display: none !important; }

  /* Sticky mobile header area */
  #mobileProfile { position: sticky; top: 0; width: 100%; background: var(--card); z-index: 50; text-align: center; padding: 8px 10px; transition: max-height .4s ease; overflow: hidden; max-height: 120px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border-bottom: 1px solid var(--nav-border); }
  #mobileProfile.expanded { max-height: 650px; }

  .mobile-header { display: flex; flex-direction: column; align-items: stretch; gap: 4px; position: relative; }

  .header-row { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; }
  .id-left { grid-column: 2; justify-self: center; display: flex; align-items: center; gap: 10px; min-width: 0; }
  #mobileThemeToggle { grid-column: 3; justify-self: end; }

  .mobile-avatar { width: 44px; height: 44px; border-radius: 50%; object-fit: cover; flex: 0 0 44px; }
  .mobile-name { font-size: 1.5rem; line-height: 1.15; margin: 0; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  /* Move expand control to bottom-right to avoid overlap with the moon */
  .expand-btn.side { position: absolute; right: 8px; bottom: 8px; top: auto; transform: none; appearance: none; border: 1px solid var(--nav-border); background: rgba(0,0,0,0.03); color: var(--text); padding: 4px; border-radius: 999px; font-size: 0; cursor: pointer; opacity: .55; transition: opacity .2s ease, background .2s ease; }
  .expand-btn.side:hover { opacity: .85; background: rgba(0,0,0,0.06); }
  .expand-btn .chev { display: block; transition: transform .25s ease; }
  #mobileProfile.expanded .expand-btn .chev { transform: rotate(180deg); }

  /* Title & subtitle only show when expanded */
  #mobileProfile .title, #mobileProfile .subtitle { display: none; }
  #mobileProfile.expanded .title, #mobileProfile.expanded .subtitle { display: block; }

  /* Larger portrait only when expanded */
  #mobileProfile:not(.expanded) .mobile-photo { display: none; }
  #mobileProfile.expanded .mobile-avatar { display: none; }
  #mobileProfile.expanded .mobile-photo { display: block; width: 140px; height: 140px; border-radius: 50%; margin: 10px auto; }

  /* Actions & contact: hidden when collapsed (prevents bleed) */
  #mobileProfile:not(.expanded) .mobile-actions { display: none; }
  #mobileProfile:not(.expanded) .contact-block { display: none; }

  .mobile-actions { display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:10px; }
  .mobile-actions .download-btn, .mobile-actions .link-chip { width:100%; max-width: 540px; text-align:center; white-space: nowrap; }

  /* Pills: allow wrapping to avoid overflow on very narrow screens */
  #skills .pill, #hobbies .pill { white-space: normal; overflow-wrap: anywhere; }

  /* Mobile page spacing so cards don't touch header */
  .resume-layout { display: block !important; grid-template-columns: 1fr !important; width: 100% !important; max-width: 100% !important; margin: 12px 0 0 0 !important; padding-left: calc(8px + env(safe-area-inset-left)); padding-right: calc(8px + env(safe-area-inset-right)); padding-top: 0; padding-bottom: 12px; box-sizing: border-box; }
  .resume-layout main { width: 100% !important; max-width: 100% !important; margin: 0 !important; padding: 0; box-sizing: border-box; }
  .resume-layout main section { width: 100% !important; max-width: 100% !important; margin: 0 0 16px 0 !important; padding: 16px; border-radius: 12px; border: 1px solid rgba(0,0,0,0.06); background: var(--card); box-shadow: 0 10px 28px rgba(0,0,0,0.12); box-sizing: border-box; }
  .resume-layout main section h2 { text-align: center; }
}

/* ============ Two-stage photo + modal ============ */
.profile-photo.clicked { transform: scale(1.12); box-shadow: 0 0 28px rgba(14,165,255,0.65); }
.modal.hidden { display: none; }
.modal { position: fixed; inset: 0; display: grid; place-items: center; z-index: 1000; }
.modal__backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.54); backdrop-filter: blur(2px); }
.modal__dialog { position: relative; max-width: min(820px, 86vw); max-height: min(86vh, 820px); background: var(--card); border-radius: 16px; padding: 12px; box-shadow: 0 16px 60px rgba(0,0,0,0.45); }
.modal__dialog img { display: block; max-width: 100%; max-height: calc(86vh - 56px); border-radius: 12px; }
.modal__close { position: absolute; top: 6px; right: 8px; width: 36px; height: 36px; border: 0; border-radius: 10px; background: rgba(0,0,0,0.25); color: #fff; font-size: 26px; line-height: 1; cursor: pointer; }
.modal__close:hover { background: rgba(0,0,0,0.35); }

/* ============ PRINT ============ */
@media print { nav, .theme-toggle, #printBtn { display: none !important; } body { background: white !important; color: black !important; } .resume-layout { grid-template-columns: 1fr; gap: 0; margin: 0; padding: 0; } .sidebar, main section { background: white !important; box-shadow: none !important; border: 0 !important; padding: 10px; } .download-btn, .link-chip { display: none !important; } .pill-container { display: grid !important; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 6px; } .contact-toggle { display: none !important; } .contact-info { display: block !important; } }
